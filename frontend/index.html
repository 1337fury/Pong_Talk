<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ping Pong Game</title>
    <link rel="stylesheet" href="./css/style.css" />
    <script src="app.js" type="module"></script>
  </head>
  <body>

    <!-- error-management -->
    <div id="error-management"></div>

    <!-- Player game request -->
    <div id="gameRequestPopup">
        <div class="popup-content">
            <div class="avatar-container">
                <img id="avatarImg" class="avatar" src="" alt="User Avatar">
            </div>
            <h5 class="mb-3 text-center">Game Request</h5>
            <p id="requestMessage" class="text-center"></p>
            <div class="progress mb-3">
                <div id="timeProgress" class="progress-bar" role="progressbar" style="width: 100%"></div>
            </div>
            <p id="timeLeft" class="text-center mb-3"></p>
            <div class="d-flex justify-content-center">
                <button id="declineBtn" class="btn btn-outline-secondary me-2">Decline</button>
                <button id="acceptBtn" class="btn btn-primary">Accept</button>
            </div>
        </div>
    </div>

    <!-- COMPONENTS -->

    <!-- NavBar -->
    <template id="navbar">
      <nav
        class="vertical-nav d-flex flex-column align-items-center justify-content-between p-2"
      >
        <!-- Logo -->
        <div class="">
          <a class="navbar-brand">
            <img src="images/pong-dark.svg" alt="Logo" width="64" height="64" />
          </a>
          <div class="horizontal-line"></div>
        </div>

        <!-- <div class="d-flex flex-column align-items-center justify-content-between mh-50"> -->
        <!-- Nav links -->
        <div class="nav-links-container d-inline-flex flex-column">
          <a href="/profile" class="nav-links">
            <svg
              width="38"
              height="38"
              viewBox="0 0 38 38"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M31.6533 30.613C32.2429 30.4901 32.5937 29.8751 32.3306 29.3333C31.3961 27.4092 29.7876 25.7179 27.6748 24.457C25.1861 22.9717 22.1369 22.1666 19 22.1666C15.8631 22.1666 12.8138 22.9717 10.3251 24.457C8.21237 25.7179 6.60387 27.4092 5.66938 29.3333C5.40626 29.8751 5.75706 30.4901 6.34668 30.6129L10.8391 31.5492C16.2219 32.671 21.7781 32.671 27.1608 31.5492L31.6533 30.613Z"
                class="default-icon-color"
              />
              <circle
                cx="19"
                cy="12.6667"
                r="7.91667"
                class="default-icon-color"
              />
            </svg>
          </a>
          <a href="/" class="nav-links">
            <svg
              width="38"
              height="38"
              viewBox="0 0 38 38"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M4.75 22.1666C4.75 18.1152 4.75 16.0895 5.73157 14.694C5.98427 14.3347 6.27906 14.0131 6.60838 13.7374C7.88759 12.6666 9.74451 12.6666 13.4583 12.6666H24.5417C28.2555 12.6666 30.1124 12.6666 31.3916 13.7374C31.7209 14.0131 32.0157 14.3347 32.2684 14.694C33.25 16.0895 33.25 18.1152 33.25 22.1666C33.25 26.2181 33.25 28.2438 32.2684 29.6393C32.0157 29.9986 31.7209 30.3201 31.3916 30.5958C30.1124 31.6666 28.2555 31.6666 24.5417 31.6666H13.4583C9.74451 31.6666 7.88759 31.6666 6.60838 30.5958C6.27906 30.3201 5.98427 29.9986 5.73157 29.6393C4.75 28.2438 4.75 26.2181 4.75 22.1666Z"
                class="default-icon-color"
              />
              <rect
                x="20.5833"
                y="22.1666"
                width="3.16667"
                height="3.16667"
                rx="1"
                fill="black"
              />
              <path
                d="M15.8333 22.1666H9.5"
                stroke="black"
                stroke-linecap="round"
              />
              <path
                d="M12.6667 19L12.6667 25.3334"
                stroke="black"
                stroke-linecap="round"
              />
              <rect
                x="25.3333"
                y="19"
                width="3.16667"
                height="3.16667"
                rx="1"
                fill="black"
              />
              <path
                d="M22.1666 12.6666V12.6231C22.1666 11.1232 22.1666 10.3732 21.7431 9.83069C21.3195 9.28816 20.5919 9.10627 19.1368 8.7425L18.8632 8.67409C17.4081 8.31031 16.6805 8.12842 16.2569 7.5859C15.8333 7.04337 15.8333 6.29342 15.8333 4.79352V3.16663"
                stroke="black"
                stroke-linecap="round"
              />
            </svg>
          </a>
          <a href="/chat" class="nav-links">
            <svg
              width="38"
              height="38"
              viewBox="0 0 38 38"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M31.6666 17.4167C31.6666 12.9692 31.6666 10.7455 30.5993 9.1481C30.1372 8.45656 29.5435 7.8628 28.8519 7.40073C27.2545 6.33337 25.0308 6.33337 20.5833 6.33337H17.4166C12.9692 6.33337 10.7455 6.33337 9.14803 7.40073C8.4565 7.8628 7.86274 8.45656 7.40067 9.1481C6.33331 10.7455 6.33331 12.9692 6.33331 17.4167C6.33331 21.8642 6.33331 24.0879 7.40067 25.6853C7.86274 26.3769 8.4565 26.9706 9.14803 27.4327C10.5435 28.3651 12.417 28.483 15.8333 28.4979V28.5L17.5838 32.001C18.1673 33.168 19.8327 33.168 20.4162 32.001L22.1666 28.5V28.4979C25.583 28.483 27.4565 28.3651 28.8519 27.4327C29.5435 26.9706 30.1372 26.3769 30.5993 25.6853C31.6666 24.0879 31.6666 21.8642 31.6666 17.4167ZM14.25 13.25C13.6977 13.25 13.25 13.6978 13.25 14.25C13.25 14.8023 13.6977 15.25 14.25 15.25H23.75C24.3023 15.25 24.75 14.8023 24.75 14.25C24.75 13.6978 24.3023 13.25 23.75 13.25H14.25ZM14.25 19.5834C13.6977 19.5834 13.25 20.0311 13.25 20.5834C13.25 21.1357 13.6977 21.5834 14.25 21.5834H19C19.5523 21.5834 20 21.1357 20 20.5834C20 20.0311 19.5523 19.5834 19 19.5834H14.25Z"
                class="default-icon-color"
              />
            </svg>
          </a>
          <a href="/leaderboard" class="nav-links">
            <svg
              width="38"
              height="38"
              viewBox="0 0 38 38"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.3199 11.4316C17.3365 8.89715 17.8448 7.62994 18.6706 7.45431C18.8878 7.40813 19.1122 7.40813 19.3294 7.45431C20.1552 7.62994 20.6635 8.89715 21.6801 11.4316C22.2583 12.8728 22.5473 13.5935 23.0882 14.0836C23.2399 14.2211 23.4046 14.3436 23.58 14.4492C24.2051 14.826 24.9855 14.8959 26.5464 15.0357C29.1886 15.2723 30.5097 15.3907 30.9131 16.1439C30.9967 16.2999 31.0535 16.4688 31.0812 16.6436C31.2149 17.4876 30.2437 18.3712 28.3013 20.1384L27.7619 20.6291C26.8538 21.4553 26.3997 21.8684 26.1371 22.3839C25.9795 22.6932 25.8739 23.0263 25.8244 23.3698C25.7419 23.9424 25.8749 24.5417 26.1408 25.7403L26.2358 26.1685C26.7127 28.3179 26.9511 29.3927 26.6535 29.9209C26.3861 30.3954 25.8936 30.6992 25.3496 30.7252C24.7439 30.7541 23.8905 30.0587 22.1837 28.6679C21.0593 27.7516 20.497 27.2935 19.8728 27.1145C19.3024 26.9509 18.6976 26.9509 18.1272 27.1145C17.503 27.2935 16.9408 27.7516 15.8163 28.6679C14.1095 30.0587 13.2561 30.7541 12.6504 30.7252C12.1064 30.6992 11.6139 30.3954 11.3465 29.9209C11.0489 29.3927 11.2873 28.3179 11.7642 26.1685L11.8592 25.7403C12.1251 24.5417 12.2581 23.9424 12.1756 23.3698C12.1261 23.0263 12.0205 22.6932 11.8629 22.3839C11.6003 21.8684 11.1462 21.4553 10.2381 20.6291L9.69872 20.1384C7.75631 18.3712 6.7851 17.4876 6.91885 16.6436C6.94655 16.4688 7.00336 16.2999 7.08691 16.1439C7.49035 15.3907 8.81145 15.2723 11.4537 15.0357C13.0145 14.8959 13.7949 14.826 14.4201 14.4492C14.5954 14.3436 14.7601 14.2211 14.9118 14.0836C15.4527 13.5935 15.7418 12.8728 16.3199 11.4316Z"
                class="default-icon-color"
                stroke="none"
                stroke-width="2"
              />
            </svg>
          </a>
          <a href="/settings" class="nav-links">
            <svg
              width="38"
              height="38"
              viewBox="0 0 38 38"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M21.9327 3.42523C22.2184 3.68378 22.2612 4.11175 22.3468 4.96768L22.4553 6.05275C22.6186 7.68628 22.7003 8.50305 23.2531 8.73204C23.806 8.96102 24.4412 8.44123 25.7118 7.40165L26.5558 6.71114C27.2216 6.16643 27.5544 5.89408 27.9393 5.91327C28.3241 5.93246 28.6282 6.23659 29.2365 6.84485L31.1551 8.7635C31.7634 9.37175 32.0675 9.67588 32.0867 10.0607C32.1059 10.4455 31.8336 10.7784 31.2888 11.4442L30.5983 12.2882C29.5587 13.5588 29.0389 14.1941 29.2679 14.7469C29.4969 15.2997 30.3137 15.3814 31.9472 15.5447L33.0324 15.6533C33.8883 15.7388 34.3163 15.7816 34.5748 16.0673C34.8334 16.353 34.8334 16.7831 34.8334 17.6433V20.3567C34.8334 21.2169 34.8334 21.647 34.5748 21.9327C34.3163 22.2184 33.8883 22.2612 33.0324 22.3468L31.9478 22.4552C30.3143 22.6186 29.4975 22.7003 29.2685 23.2531C29.0395 23.8059 29.5593 24.4412 30.5989 25.7118L31.2889 26.5552C31.8336 27.2209 32.106 27.5538 32.0868 27.9386C32.0676 28.3235 31.7635 28.6276 31.1552 29.2358L29.2366 31.1545C28.6283 31.7627 28.3242 32.0669 27.9393 32.0861C27.5545 32.1053 27.2216 31.8329 26.5559 31.2882L25.7119 30.5977C24.4413 29.5581 23.806 29.0383 23.2532 29.2673C22.7004 29.4963 22.6187 30.3131 22.4554 31.9466L22.3468 33.0324C22.2612 33.8883 22.2184 34.3163 21.9327 34.5748C21.647 34.8334 21.2169 34.8334 20.3567 34.8334H17.6433C16.7831 34.8334 16.353 34.8334 16.0673 34.5748C15.7816 34.3163 15.7388 33.8883 15.6533 33.0324L15.5447 31.9472C15.3814 30.3137 15.2997 29.4969 14.7469 29.2679C14.1941 29.0389 13.5588 29.5587 12.2882 30.5983L11.4441 31.2889C10.7784 31.8336 10.4455 32.106 10.0606 32.0868C9.67581 32.0676 9.37168 31.7635 8.76343 31.1552L6.84478 29.2366C6.23652 28.6283 5.93239 28.3242 5.9132 27.9393C5.89401 27.5545 6.16636 27.2216 6.71107 26.5559L7.40164 25.7118C8.44122 24.4412 8.96101 23.806 8.73202 23.2531C8.50304 22.7003 7.68627 22.6186 6.05273 22.4553L4.96768 22.3468C4.11175 22.2612 3.68378 22.2184 3.42523 21.9327C3.16669 21.647 3.16669 21.2169 3.16669 20.3567V17.6433C3.16669 16.7831 3.16669 16.353 3.42523 16.0673C3.68378 15.7816 4.11175 15.7388 4.96768 15.6533L6.05333 15.5447C7.68687 15.3813 8.50364 15.2997 8.73262 14.7468C8.9616 14.194 8.44181 13.5587 7.40224 12.2881L6.71114 11.4435C6.16643 10.7777 5.89408 10.4448 5.91327 10.06C5.93247 9.67516 6.23659 9.37103 6.84485 8.76278L8.7635 6.84413C9.37175 6.23587 9.67588 5.93175 10.0607 5.91255C10.4455 5.89336 10.7784 6.16571 11.4442 6.71043L12.2883 7.40103C13.5589 8.44061 14.1941 8.9604 14.747 8.73141C15.2998 8.50243 15.3815 7.68566 15.5448 6.05212L15.6533 4.96768C15.7388 4.11175 15.7816 3.68378 16.0673 3.42523C16.353 3.16669 16.7831 3.16669 17.6433 3.16669H20.3567C21.2169 3.16669 21.647 3.16669 21.9327 3.42523ZM19 25.3334C22.4978 25.3334 25.3334 22.4978 25.3334 19C25.3334 15.5022 22.4978 12.6667 19 12.6667C15.5022 12.6667 12.6667 15.5022 12.6667 19C12.6667 22.4978 15.5022 25.3334 19 25.3334Z"
                class="default-icon-color"
              />
            </svg>
          </a>
        </div>
        <!-- Logout Button -->
        <button class="logout-button">
          <svg
            width="38"
            height="38"
            viewBox="0 0 38 38"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M34.8023 18H18.2476L24.4571 11.7905L23.0429 10.3762L15.1262 18.2929L14.4191 19L15.1262 19.7071L23.0429 27.6238L24.4571 26.2096L18.2476 20H34.8023C34.2863 28.2786 27.4086 34.8334 19 34.8334C10.2555 34.8334 3.16669 27.7445 3.16669 19C3.16669 10.2555 10.2555 3.16669 19 3.16669C27.4086 3.16669 34.2863 9.7214 34.8023 18Z"
              class="default-icon-color"
            />
          </svg>
        </button>
        <!-- </div> -->
      </nav>
    </template>

    <!-- PAGES -->

    <!-- Home Page -->
    <template id="homepage">
      <nav-bar></nav-bar>
      <main></main>
      <!-- Element Changed based on nav link click event -->
    </template>

    <!-- Game Page -->
    <template id="gamepage">
      <div class="game-container">
        <div class="game-btns">
          <button class="btn primary-btn" id="requestGameBtn">
            Find Match
          </button>
          <button class="btn secondary-btn" id="cancelMatchmakingBtn" disabled>
            Cancel Matchmaking
          </button>
          <button class="btn primary-btn" id="createTournament" disabled>
            Create Tournament
          </button>
          <button class="btn tournament-btn">Join Tournament</button>
        </div>
        <div id="matchmakingStatus" class="status mt-3"></div>
      </div>
    </template>

    <!-- Tournament template -->
    <template id="tournamentpage">
      <div class="container">
        <h1>Create Pong Tournament</h1>
        <input type="text" id="searchBar" placeholder="Search players...">
        <div id="friendsList"></div>
        <button id="startTournament" disabled>Start Tournament</button>
        <div id="progressBarContainer">
            <h4 style="text-align: center; margin-bottom: 10px;">Preparing Tournament...</h4>
            <div class="progress">
                <div id="progressBar"></div>
            </div>
        </div>
    </div>
    </template>

    <!-- Tournament Screen Template -->
    <template id="tournamentscreen">
      <div id="gameContainer">
        <div id="tournamentInfo">
            <h1>PONG Tournament</h1>
            <h2 id="currentRound"></h2>
            <h3 id="currentMatch"></h3>
        </div>
        <div id="playerInfo">
            <div class="player" id="leftPlayer">
              <div>
                <img src="" alt="Left Player Avatar">
                <h3></h3>
              </div>
              <h3 class="score"></h3>
            </div>
            <div class="player" id="rightPlayer">
              <div>
                <img src="" alt="Right Player Avatar">
                <h3></h3>
              </div>
              <h3 class="score"></h3>
            </div>
        </div>
        <canvas width="1000" height="600" id="game"></canvas>
      </div>
    </template>

    <!-- Game Screen Template -->
    <template id="gamescreen">
      <div id="gameContainer">
        <div id="gameInfo">
            <h1>PONG game</h1>
        </div>
        <div id="playerInfo">
            <div class="player" id="leftPlayer">
              <div>
                <img src="" alt="Left Player Avatar">
                <h3></h3>
              </div>
              <h3 class="score"></h3>
            </div>
            <div class="player" id="rightPlayer">
              <div>
                <img src="" alt="Right Player Avatar">
                <h3></h3>
              </div>
              <h3 class="score"></h3>
            </div>
        </div>
        <canvas width="1000" height="600" id="game"></canvas>
      </div>
    </template>

    <!-- Login Page -->
    <template id="loginpage">
      <div class="container-fluid">
        <header class="logo">
          <img src="./images/pong-dark.svg" alt="logo" class="logo-desktop" />
        </header>
        <main class="row h-100 rounded">
          <section class="col-md-6 d-none d-md-block bg-image">
            <div class="d-flex justify-content-center align-items-center h-100">
              <img
                class="hero-img"
                src="./images/hero.svg"
                alt="ping pong player"
              />
            </div>
          </section>
          <section class="col-md-6 d-flex align-items-center px-7">
            <div class="w-100">
              <div class="text-center mb-5">
                <h1 class="text-shadow">LOGIN</h1>
                <form class="login-form p-4">
                  <div class="form-group">
                    <input
                      type="text"
                      class="login-input"
                      placeholder="Username"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="password"
                      class="login-input"
                      placeholder="Password"
                      required
                    />
                  </div>
                  <button
                    type="submit"
                    class="login-btn login-primary btn-block"
                  >
                    Login
                  </button>
                  <div class="text-center mt-3 mb-5 register-link">
                    <span
                      >Don't have an account?
                      <a href="#" id="to-register">Register</a></span
                    >
                  </div>
                  <div class="hr-with-text">
                    <hr />
                    <span class="hr-text">or</span>
                  </div>
                  <button
                    type="button"
                    class="oauth42 login-btn login-dark btn-dark btn-block mt-5"
                  >
                    Login with
                    <img
                      src="./images/42-logo.svg"
                      alt="42 logo"
                      width="37px"
                      height="37px"
                      class="ml-2"
                    />
                  </button>
                </form>
              </div>
            </div>
          </section>
        </main>
      </div>
    </template>

    <!-- Register Page -->
    <template id="registerpage">
      <div class="container-fluid">
        <header class="logo">
          <img src="./images/pong-dark.svg" alt="logo" class="logo-desktop" />
        </header>
        <main class="row h-100 rounded">
          <section class="col-md-6 d-none d-md-block bg-image">
            <div class="d-flex justify-content-center align-items-center h-100">
              <img
                class="hero-img"
                src="./images/hero.svg"
                alt="ping pong player"
              />
            </div>
          </section>
          <section class="col-md-6 d-flex align-items-center px-7">
            <div class="w-100">
              <div class="text-center mb-5">
                <h1 class="text-shadow">REGISTER</h1>
                <form class="register-form p-4">
                  <div class="form-group">
                    <input
                      type="text"
                      class="login-input"
                      placeholder="Username"
                      required
                    />
                    <input
                      type="text"
                      class="login-input"
                      placeholder="First name"
                      required
                    />
                    <input
                      type="text"
                      class="login-input"
                      placeholder="Last name"
                      required
                    />
                    <input
                      type="text"
                      class="login-input"
                      placeholder="Tournament name"
                      required
                    />
                    <input
                      type="password"
                      class="login-input"
                      placeholder="Password"
                      required
                    />
                    <div class="confirm-password">
                      <input
                        type="password"
                        class="login-input"
                        placeholder="Confirm Password"
                        required
                      />
                    </div>
                  </div>
                  <button
                    type="submit"
                    class="login-btn login-primary btn-block"
                  >
                    Register
                  </button>
                  <div class="text-center mt-3 mb-5 register-link">
                    <span
                      >Already have an account? <a href="#" id="to-login">Login</a></span
                    >
                  </div>
                  <div class="hr-with-text">
                    <hr />
                    <span class="hr-text">or</span>
                  </div>
                  <button
                    type="button"
                    class="oauth42 login-btn login-dark btn-dark btn-block mt-5"
                  >
                    Register with
                    <img
                      src="./images/42-logo.svg"
                      alt="42 logo"
                      width="37px"
                      height="37px"
                      class="ml-2"
                    />
                  </button>
                </form>
              </div>
            </div>
          </section>
        </main>
      </div>
    </template>

    <!-- Chat Page -->
    <template id="chatpage">
      <div
        class="position-absolute top-0 left-0 w-100 h-100 popup-container bg-body-tertiary bg-opacity-50 hidden"
      >
        <div
          class="popup position-fixed border border-secondary-subtle start-50 top-50 translate-middle w-25 h-50 d-flex flex-column"
        >
          <input
            type="text"
            name="popup-search-players"
            placeholder="Start conversation with a friend"
            class="p-3 border border-secondary-subtle border-top-0 border-end-0 border-start-0"
          />
          <div class="flex-grow-1 overflow-y-auto popup-friends text-start">
            <!-- Friends -->
          </div>
        </div>
      </div>
      <!-- Navigation panel -->
      <div class="flex-basis-30 d-flex flex-column h-100 border">
        <div
          class="d-flex justify-content-between align-items-center mb-2 pe-4 ps-4 pt-4"
        >
          <h4 class="">Chats</h4>
          <button class="border-0 bg-transparent add-conversation-btn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              viewBox="0 0 16 16"
            >
              <!-- Circle -->
              <circle cx="8" cy="8" r="8" fill="#f0f2f5" />
              <!-- Circle color -->

              <!-- Plus Sign -->
              <path
                d="M8 4.5v7M4.5 8h7"
                stroke="#000000"
                stroke-width="0.7"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
        <div class="mb-3 pe-4 ps-4">
          <input
            class="search-box"
            name="search-conversations"
            placeholder="Search Conversations"
          />
        </div>
        <!-- Conversations -->
        <h5 class="pe-4 ps-4">Direct messages</h5>
        <div class="flex-grow-1 overflow-y-auto">
          <div class="direct_message_container pe-4 ps-4">
            <!-- Direct messages -->
          </div>
        </div>
      </div>
      <!-- Chat message -->
      <div class="flex-grow-1 chat_message_container">
        <!-- User profile bar -->
        <template id="chatmessages">
          <div
            class="z-3 d-inline-flex justify-content-between align-items-center p-3 user_profile_bar"
          >
            <button class="fw-semibold border-0" style="background-color: transparent;">
              <div class="avatar me-2">
                <img class="avatar_image" src="" alt="Avatar image" />
                <span class="avatar_status"></span>
              </div>
              <span></span>
            </button>

            <div class="dropdown">
              <button id="dropdownButton" class="border-0 bg-transparent">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="30"
                  height="30"
                  fill="#231f20"
                  class="bi bi-three-dots"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"
                  />
                </svg>
              </button>
              <ul
                id="dropdownMenu"
                class="dropdown-menu"
                aria-labelledby="dropdownButton"
              >
              <li>
                <a
                  class="dropdown-item text-danger"
                  href="#"
                  data-action="game"
                  >Play a game</a
                >
              </li>
                <li>
                  <a
                    class="dropdown-item text-danger"
                    href="#"
                    data-action="clear"
                    >Clear chat</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item text-danger"
                    href="#"
                    data-action="delete"
                    >Delete Chat</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item text-danger"
                    href="#"
                    data-action="block"
                    >Block user</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item text-danger"
                    href="#"
                    data-action="unblock"
                    >Unblock user</a
                  >
                </li>
              </ul>
            </div>
          </div>
          <!-- Actual messages -->
          <div
            class="flex-grow-1 d-flex flex-column-reverse overflow-y-auto p-5"
          >
            <div class="chat_messages d-flex flex-column justify-content-end">
              <!-- <span class="mine_message fw-medium align-self-end">
                <p
                  class="pe-4 ps-4 pt-2 pb-2 d-inline-block rounded-top-4 rounded-start-4 me-2"
                >
                  How’s your family?
                </p>
                3:15PM
              </span>
              <span class="mine_message fw-medium align-self-end">
                <p
                  class="pe-4 ps-4 pt-2 pb-2 d-inline-block rounded-top-4 rounded-start-4 me-2"
                >
                  How’s your family?
                </p>
                3:15PM
              </span>
              <span class="mine_message fw-medium align-self-end">
                <p
                  class="pe-4 ps-4 pt-2 pb-2 d-inline-block rounded-top-4 rounded-start-4 me-2"
                >
                  Hello today is a wonderful day and I am very excited
                </p>
                3:15PM
              </span>
              <span class="friend_message fw-medium">
                <p
                  class="pe-4 ps-4 pt-2 pb-2 d-inline-block text-light rounded-top-4 rounded-end-4 me-2"
                >
                  Hello James How’s you day is going?
                </p>
                3:15PM
              </span> -->
            </div>
          </div>
          <!-- Send Message button -->
          <div
            class="d-flex justify-content-center align-items-center pe-5 ps-5 pb-3"
          >
            <p class="" style="color: #7b7b7b">
              The message is blocked for example loooooooooooooooooooool
            </p>
            <form class="send_message_container flex-grow-1" tabindex="0">
              <input
                type="text"
                placeholder="Type a message"
                name="message-input"
                id=""
                class="flex-grow-1 rounded-start-4"
              />
              <button class="rounded-end-4" type="submit">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="25"
                  height="25"
                  fill="#ffffff"
                  class="bi bi-send-fill"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z"
                  />
                </svg>
              </button>
            </form>
          </div>
        </template>
      </div>
    </template>

	<!-- 2FA verification page -->
	<template id="_2fapage">
		<div class="bg"></div>
		<div class="container">
			<br>
			<div class="row">
				<div class="card">
					<div class="card-body px-lg-5 py-lg-5 text-center">
						<img src="./images/key.png" class="rounded-circle avatar-lg mb-4" alt="profile-image">
						<h2 class="heading">Easy peasy</h2>
						<p id="instructions" class="mb-4" style="color: #aaa;">Enter 6-digits code from your athenticatior app.</p>
						
						<div class="row mb-4" id="codeInputGroup">
							<div class="col-lg-2 col-md-2 col-2 ps-0 ps-md-2">
								<input maxlength="1" type="text" class="form-control text-lg text-center" placeholder="_" aria-label="2fa">
							</div>
							<div class="col-lg-2 col-md-2 col-2 ps-0 ps-md-2">
								<input maxlength="1" type="text" class="form-control text-lg text-center" placeholder="_" aria-label="2fa">
							</div>
							<div class="col-lg-2 col-md-2 col-2 ps-0 ps-md-2">
								<input maxlength="1" type="text" class="form-control text-lg text-center" placeholder="_" aria-label="2fa">
							</div>
							<div class="col-lg-2 col-md-2 col-2 pe-0 pe-md-2">
								<input maxlength="1" type="text" class="form-control text-lg text-center" placeholder="_" aria-label="2fa">
							</div>
							<div class="col-lg-2 col-md-2 col-2 pe-0 pe-md-2">
								<input maxlength="1" type="text" class="form-control text-lg text-center" placeholder="_" aria-label="2fa">
							</div>
							<div class="col-lg-2 col-md-2 col-2 pe-0 pe-md-2">
								<input maxlength="1" type="text" class="form-control text-lg text-center" placeholder="_" aria-label="2fa">
							</div>
						</div>
						<input type="text" id="backupCodeInput" placeholder="Enter your backup code" maxlength="10" pattern="[a-zA-Z0-9]{10}" required class="form-control text-lg d-none w-100 p-2 mb-4">
						<div class="text-center">
							<button type="button" id="submitBtn" class="w-100 btn btn-lg mt-4 display-1">Continue</button>
						</div>
						<div class="backup-link text-center mt-4">
							<a class="text-decoration-none" href="#" id="toggleBackup">Don't have access to your authenticator app?</a>
						</div>

						<div id="messageAlert" class="alert alert-danger alert-dismissible fade show fade-in d-none mt-4 mb-0" role="alert">
							<span id="messageText"></span>
							<button type="button" class="btn-close" aria-label="Close"></button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</template>

	<!-- Settings page -->
	<template id="settingspage">
		<div class="container-fluid p-0">
			<div class="header-image"></div>
			<div class="container">
				<div class="row">
					<div class="col-md-3">
						<div class="avatar-container">
							<img src="./images/loading.gif" alt="Profile picture" class="profile-image" id="settingsProfileImage">
							<div class="edit-icon" id="changeAvatar">
								<svg viewBox="0 0 24 24">
									<path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
								</svg>
							</div>
						</div>
					</div>
					<div class="col-md-9">
						<h1 class="mt-3">Settings</h1>
					</div>
				</div>
			</div>
			<div class="container">
				<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
					<!-- Account -->
					<div class="col">
						<div class="card setting-card">
							<div class="card-header setting-card-header">
								<h4>Account</h4>
							</div>
							<div class="card-body setting-card-body">
								<p>Manage your personal information, change your username, and more.</p>
								<button id="editAccountBtn" class="btn btn-custom active-modal" data-modal="editAccount">Edit Account</button>
							</div>
						</div>
					</div>
					<!-- Password -->
					<div class="col">
						<div class="card setting-card">
							<div class="card-header setting-card-header" data-bs-toggle="collapse" data-bs-target="#collapsePassword">
								<h4>Password</h4>
							</div>
							<div class="card-body setting-card-body">
								<p>Change your password to reduces the risk of security breaches.</p>
								<button class="btn btn-custom active-modal" data-modal="editPassword">Change Password</button>
							</div>
						</div>
					</div>
					<!-- Security -->
					<div class="col">
						<div class="card setting-card">
							<div class="card-header setting-card-header" data-bs-toggle="collapse" data-bs-target="#collapseSecurity">
								<h4>Security</h4>
							</div>
							<div class="card-body setting-card-body">
								<p>Enhance your account security with two-factor authentication.</p>
								<button class="btn btn-custom active-modal" data-modal="boostSecurity">Boost Security</button>
							</div>
						</div>
					</div>
					<!-- Blocked Users -->
					<div class="col">
						<div class="card setting-card">
							<div class="card-header setting-card-header" data-bs-toggle="collapse" data-bs-target="#collapseBlockedUsers">
								<h4>Blocked Users</h4>
							</div>
							<div class="card-body setting-card-body">
								<p>Manage the users you have blocked from contacting you.</p>
								<button class="btn btn-custom active-modal" data-modal="blockedUsers">View Blocked Users</button>
							</div>
						</div>
					</div>
			</div>
		</div>
	</template>

  <!-- Add other templates -->

  <template id="leaderboardpage">
		<div class="container-fluid d-none" id="leaderboardContainer">
			<img src="./images/stars.png" alt="Trophy icon" class="trophy-icon mx-auto d-block">
			<h1 class="leaderboard-title text-center">Leaderboard</h1>
		</div>
	</template>
    
    <script src="./bootstrap-5.3.3-dist/js/bootstrap.min.js"></script>
  </body>
</html>
